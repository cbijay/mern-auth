(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{114:function(e,a,t){},115:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),o=t(8),c=t.n(o),l=t(21),s=t.n(l),i=t(28),u=t(26),m=t(38),p=t(10),d=t(29),h=t(32),f=t(159),g=t(67),b=t.n(g),E=t(144),v=t(46),w=Object(E.a)((function(e){return{logo:{width:"100%"},paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:"transparent !important",width:"150px",height:"auto",borderRadius:"0"},title:{padding:"".concat(e.spacing(1,0,1)," !important"),textAlign:"center",borderBottom:"1px solid ".concat(v.a[300])},form:{width:"100%"},inputField:{margin:"0 0 8px !important"},btnSubmit:{margin:"".concat(e.spacing(2,0,2)," !important"),background:"".concat(v.a[900]," !important"),color:"#fff !important"},gridLink:{justifyContent:"center"},routeLink:{background:"none !important"}}}));function k(){var e=w();return r.a.createElement(r.a.Fragment,null,r.a.createElement(f.a,{className:e.avatar},r.a.createElement("img",{src:b.a,alt:"Boiling Head",className:e.logo})))}var x=t(157),j=t(47);var O=function(){return r.a.createElement(x.a,{mt:8},r.a.createElement(j.a,{variant:"body2",color:"textSecondary",align:"center"},"Copyright \xa9 ".concat((new Date).getFullYear()," Boiling Head")))},N=t(24),C=t.n(N),S=Object(n.createContext)(null),y=t(158),F=t(147),W=t(71),I=t.n(W);function L(e){var a=e.message,t=e.clearError;return r.a.createElement(y.a,{variant:"filled",severity:"error",action:r.a.createElement(F.a,{"aria-label":"close",color:"inherit",size:"small",onClick:function(){t()}},r.a.createElement(I.a,{fontSize:"inherit"}))},a)}var A=t(148),B=t(149),P=t(150),U=t(151),q=t(156),D=t(152),R=t(153);var H=function(){var e=w(),a=Object(p.f)(),t=Object(n.useContext)(S),o=t.authUser,c=t.setAuthUser,l=Object(n.useState)({email:"",password:""}),m=Object(u.a)(l,2),f=m[0],g=m[1],b=Object(n.useState)(),E=Object(u.a)(b,2),v=E[0],x=E[1];Object(n.useEffect)((function(){o.user&&a.push("dashboard")}));var j=function(e){g(Object(h.a)(Object(h.a)({},f),{},Object(d.a)({},e.target.name,e.target.value)))},N=function(){var e=Object(i.a)(s.a.mark((function e(t){var n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,C.a.post("https://boiling-head-react.herokuapp.com/api/users/login",f);case 4:n=e.sent,c(n.data),localStorage.setItem("auth-token",n.data.token),a.push("dashboard"),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),e.t0.response.data.message&&x(e.t0.response.data.message);case 13:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(a){return e.apply(this,arguments)}}();return r.a.createElement(A.a,{component:"main",maxWidth:"xs"},r.a.createElement("div",{className:e.paper},r.a.createElement(k,null),r.a.createElement(B.a,{className:e.root},r.a.createElement(P.a,{title:"Log In",className:e.title}),r.a.createElement(U.a,{className:e.cardContent},v&&r.a.createElement(L,{message:v,clearError:function(){return x(void 0)}}),r.a.createElement("form",{className:e.form,onSubmit:N,noValidate:!0},r.a.createElement(q.a,{margin:"normal",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email",autoFocus:!0,className:e.inputField,onChange:j,value:f.email}),r.a.createElement(q.a,{margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",className:e.inputField,autoComplete:"password",onChange:j,value:f.password}),r.a.createElement(D.a,{type:"submit",fullWidth:!0,className:e.btnSubmit},"Log In"),r.a.createElement(R.a,{container:!0,className:e.gridLink},r.a.createElement(D.a,{onClick:function(){a.push("register")},className:e.routeLink},"Don't have an account? Sign Up")))))),r.a.createElement(O,null))};var V=function(){var e=w(),a=Object(p.f)(),t=Object(n.useContext)(S),o=t.authUser,c=t.setAuthUser;Object(n.useEffect)((function(){o.user&&a.push("dashboard")}));var l=Object(n.useState)({fullName:"",email:"",password:"",confirmPassword:""}),m=Object(u.a)(l,2),f=m[0],g=m[1],b=Object(n.useState)(),E=Object(u.a)(b,2),v=E[0],x=E[1],j=function(e){g(Object(h.a)(Object(h.a)({},f),{},Object(d.a)({},e.target.name,e.target.value)))},N=function(){var e=Object(i.a)(s.a.mark((function e(t){var n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,C.a.post("https://boiling-head-react.herokuapp.com/api/users/register",f);case 4:return e.next=6,C.a.post("https://boiling-head-react.herokuapp.com/users/login",{email:f.email,password:f.password});case 6:n=e.sent,c(n.data),localStorage.setItem("auth-token",n.data.token),a.push("dashboard"),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(1),e.t0.response.data.message&&x(e.t0.response.data.message);case 15:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(a){return e.apply(this,arguments)}}();return r.a.createElement(A.a,{component:"main",maxWidth:"xs"},r.a.createElement("div",{className:e.paper},r.a.createElement(k,null),r.a.createElement(B.a,{className:e.root},r.a.createElement(P.a,{title:"Register",className:e.title}),r.a.createElement(U.a,{className:e.cardContent},v&&r.a.createElement(L,{message:v,clearError:function(){return x(void 0)}}),r.a.createElement("form",{className:e.form,onSubmit:N,noValidate:!0},r.a.createElement(R.a,{container:!0,spacing:2},r.a.createElement(R.a,{item:!0,xs:12},r.a.createElement(q.a,{autoComplete:"fname",name:"fullName",required:!0,fullWidth:!0,id:"fullName",label:"Full Name",className:e.inputField,autoFocus:!0,value:f.fullName,onChange:j})),r.a.createElement(R.a,{item:!0,xs:12},r.a.createElement(q.a,{required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",className:e.inputField,autoComplete:"email",value:f.email,onChange:j})),r.a.createElement(R.a,{item:!0,xs:12},r.a.createElement(q.a,{required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",className:e.inputField,autoComplete:"current-password",value:f.password,onChange:j})),r.a.createElement(R.a,{item:!0,xs:12},r.a.createElement(q.a,{required:!0,fullWidth:!0,name:"confirmPassword",label:"Confirm Password",type:"password",id:"confirmPassword",className:e.inputField,autoComplete:"password",onChange:j,value:f.confirmPassword}))),r.a.createElement(D.a,{type:"submit",fullWidth:!0,className:e.btnSubmit},"Register"),r.a.createElement(R.a,{container:!0,justify:"center"},r.a.createElement(R.a,{item:!0},r.a.createElement(D.a,{onClick:function(){a.push("/")},className:e.routeLink},"Already have an account? Log in"))))))),r.a.createElement(O,null))},z=t(154),G=t(155),J=t(72),M=t.n(J),T=Object(E.a)((function(e){return{root:{flexGrow:1},menuButton:{marginRight:e.spacing(2)},title:{flexGrow:1}}}));var Y=function(){var e=T(),a=Object(n.useContext)(S).setAuthUser,t=Object(p.f)();return r.a.createElement(r.a.Fragment,null,r.a.createElement(z.a,{position:"static"},r.a.createElement(G.a,null,r.a.createElement(F.a,{edge:"start",className:e.menuButton,color:"inherit","aria-label":"menu"},r.a.createElement(M.a,null)),r.a.createElement(j.a,{variant:"h6",className:e.title},"Boiling Head"),r.a.createElement(D.a,{color:"inherit",onClick:function(){a({token:void 0,user:void 0}),localStorage.setItem("auth-token",""),t.push("/")}},"Log out"))))};var $=function(){return r.a.createElement(Y,null)};t(114);var K=function(){var e=Object(n.useState)({token:void 0,user:void 0}),a=Object(u.a)(e,2),t=a[0],o=a[1];return Object(n.useEffect)((function(){(function(){var e=Object(i.a)(s.a.mark((function e(){var a,t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return null===(a=localStorage.getItem("auth-token"))&&(localStorage.setItem("auth-token",""),a=""),e.next=4,C.a.post("https://boiling-head-react.herokuapp.com/api/users/tokenIsValid",null,{headers:{"x-auth-token":a}});case 4:if(!e.sent.data){e.next=10;break}return e.next=8,C.a.get("https://boiling-head-react.herokuapp.com/api/users/",{headers:{"x-auth-token":a}});case 8:t=e.sent,o({token:a,user:t.data});case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),r.a.createElement(S.Provider,{value:{authUser:t,setAuthUser:o}},r.a.createElement(m.a,null,r.a.createElement(p.c,null,r.a.createElement(p.a,{exact:!0,path:"/",component:H}),r.a.createElement(p.a,{path:"/register",component:V}),r.a.createElement(p.a,{exact:!0,path:"/dashboard",component:$}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(K,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},67:function(e,a,t){e.exports=t.p+"static/media/boiling-head-logo.bffeede1.png"},85:function(e,a,t){e.exports=t(115)}},[[85,1,2]]]);
//# sourceMappingURL=main.c1ede1b9.chunk.js.map